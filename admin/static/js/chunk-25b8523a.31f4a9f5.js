(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25b8523a"],{"38cd2":function(e,t,i){var n,r=i("e7ad"),o=i("86d4"),a=i("ec45"),s=a("typed_array"),c=a("view"),u=!(!r.ArrayBuffer||!r.DataView),l=u,h=0,f=9,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(h<f)(n=r[d[h++]])?(o(n.prototype,s,!0),o(n.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},"47e7":function(e,t,i){i("ddc5")("Uint8",1,(function(e){return function(t,i,n){return e(this,t,i,n)}}))},"896b":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"},{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"vue-image-crop-upload",attrs:{"element-loading-text":"正在处理图片中请骚等","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[i("div",{staticClass:"vicp-wrap"},[i("div",{staticClass:"vicp-close",on:{click:e.off}},[i("i",{staticClass:"vicp-icon4"})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.step,expression:"step == 1"}],staticClass:"vicp-step1"},[i("div",{staticClass:"vicp-drop-area",on:{dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,click:e.handleClick,drop:e.handleChange}},[i("i",{directives:[{name:"show",rawName:"v-show",value:1!=e.loading,expression:"loading != 1"}],staticClass:"vicp-icon1"},[i("i",{staticClass:"vicp-icon1-arrow"}),e._v(" "),i("i",{staticClass:"vicp-icon1-body"}),e._v(" "),i("i",{staticClass:"vicp-icon1-bottom"})]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:1!==e.loading,expression:"loading !== 1"}],staticClass:"vicp-hint"},[e._v(e._s(e.lang.hint))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isSupported,expression:"!isSupported"}],staticClass:"vicp-no-supported-hint"},[e._v(e._s(e.lang.noSupported))]),e._v(" "),1==e.step?i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileinput",attrs:{type:"file"},on:{change:e.handleChange}}):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"vicp-error"},[i("i",{staticClass:"vicp-icon2"}),e._v(" "+e._s(e.errorMsg)+"\n      ")]),e._v(" "),i("div",{staticClass:"vicp-operate"},[i("a",{on:{click:e.off,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.off))])])]),e._v(" "),2==e.step?i("div",{staticClass:"vicp-step2"},[i("div",{staticClass:"vicp-crop"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-left"},[i("div",{staticClass:"vicp-img-container"},[i("img",{ref:"img",staticClass:"vicp-img",style:e.sourceImgStyle,attrs:{src:e.sourceImgUrl,draggable:"false"},on:{drag:e.preventDefault,dragstart:e.preventDefault,dragend:e.preventDefault,dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,drop:e.preventDefault,touchstart:e.imgStartMove,touchmove:e.imgMove,touchend:e.createImg,touchcancel:e.createImg,mousedown:e.imgStartMove,mousemove:e.imgMove,mouseup:e.createImg,mouseout:e.createImg}}),e._v(" "),i("div",{staticClass:"vicp-img-shade vicp-img-shade-1",style:e.sourceImgShadeStyle}),e._v(" "),i("div",{staticClass:"vicp-img-shade vicp-img-shade-2",style:e.sourceImgShadeStyle})]),e._v(" "),i("div",{staticClass:"vicp-range"},[i("input",{attrs:{type:"range",step:"1",min:"0",max:"100"},domProps:{value:e.scale.range},on:{input:e.zoomChange}}),e._v(" "),i("i",{staticClass:"vicp-icon5",on:{mousedown:e.startZoomSub,mouseout:e.endZoomSub,mouseup:e.endZoomSub}}),e._v(" "),i("i",{staticClass:"vicp-icon6",on:{mousedown:e.startZoomAdd,mouseout:e.endZoomAdd,mouseup:e.endZoomAdd}})]),e._v(" "),e.isGif?i("div",{staticClass:"vicp-range"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.fps,expression:"fps"}],attrs:{type:"range",step:"1",min:"1",max:"60"},domProps:{value:e.fps},on:{__r:function(t){e.fps=t.target.value}}}),e._v(" "),i("i",{staticClass:"vicp-icon5",on:{mousedown:e.startFpsSub,mouseup:e.endFpsSub,mouseout:e.endFpsSub}}),e._v(" "),i("i",{staticClass:"vicp-icon6",on:{mousedown:e.startFpsAdd,mouseup:e.endFpsAdd,mouseout:e.endFpsAdd}})]):e._e(),e._v(" "),e.noRotate?e._e():i("div",{staticClass:"vicp-rotate"},[i("i",{on:{mousedown:e.startRotateLeft,mouseout:e.endRotate,mouseup:e.endRotate}},[e._v("↺")]),e._v(" "),i("i",{on:{mousedown:e.startRotateRight,mouseout:e.endRotate,mouseup:e.endRotate}},[e._v("↻")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-right"},[i("div",{staticClass:"vicp-preview"},[e.noSquare?e._e():i("div",{staticClass:"vicp-preview-item"},[i("img",{style:e.previewStyle,attrs:{id:"get_gif",src:e.createImgUrl}}),e._v(" "),i("span",[e._v(e._s(e.lang.preview))])]),e._v(" "),e.noCircle?e._e():i("div",{staticClass:"vicp-preview-item vicp-preview-item-circle"},[i("img",{style:e.previewStyle,attrs:{src:e.createImgUrl}}),e._v(" "),i("span",[e._v(e._s(e.lang.preview))])])])])]),e._v(" "),i("div",{staticClass:"vicp-operate"},[i("a",{on:{click:function(t){return e.setStep(1)},mousedown:e.ripple}},[e._v(e._s(e.lang.btn.back))]),e._v(" "),i("a",{staticClass:"vicp-operate-btn",on:{click:e.prepareUpload,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.save))])])]):e._e(),e._v(" "),i("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{id:"canvas_use",width:e.width,height:e.height}})])])},r=[],o=(i("e10e"),i("6d57"),i("3bf2")),a=(i("63ff"),i("57f0")),s=(i("cc57"),i("f548"),i("163d"),i("b775")),c={zh:{hint:"点击，或拖动图片至此处",loading:"正在上传……",noSupported:"浏览器不支持该功能，请使用IE10以上或其他现在浏览器！",success:"上传成功",fail:"图片上传失败",preview:"头像预览",btn:{off:"取消",close:"关闭",back:"上一步",save:"保存"},error:{onlyImg:"仅限图片格式",outOfSize:"单文件大小不能超过 ",lowestPx:"图片最低像素为（宽*高）："}},"zh-tw":{hint:"點擊，或拖動圖片至此處",loading:"正在上傳……",noSupported:"瀏覽器不支持該功能，請使用IE10以上或其他現代瀏覽器！",success:"上傳成功",fail:"圖片上傳失敗",preview:"頭像預覽",btn:{off:"取消",close:"關閉",back:"上一步",save:"保存"},error:{onlyImg:"僅限圖片格式",outOfSize:"單文件大小不能超過 ",lowestPx:"圖片最低像素為（寬*高）："}},en:{hint:"Click or drag the file here to upload",loading:"Uploading…",noSupported:"Browser is not supported, please use IE10+ or other browsers",success:"Upload success",fail:"Upload failed",preview:"Preview",btn:{off:"Cancel",close:"Close",back:"Back",save:"Save"},error:{onlyImg:"Image only",outOfSize:"Image exceeds size limit: ",lowestPx:"Image's size is too low. Expected at least: "}},ro:{hint:"Atinge sau trage fișierul aici",loading:"Se încarcă",noSupported:"Browser-ul tău nu suportă acest feature. Te rugăm încearcă cu alt browser.",success:"S-a încărcat cu succes",fail:"A apărut o problemă la încărcare",preview:"Previzualizează",btn:{off:"Anulează",close:"Închide",back:"Înapoi",save:"Salvează"},error:{onlyImg:"Doar imagini",outOfSize:"Imaginea depășește limita de: ",loewstPx:"Imaginea este prea mică; Minim: "}},ru:{hint:"Нажмите, или перетащите файл в это окно",loading:"Загружаю……",noSupported:"Ваш браузер не поддерживается, пожалуйста, используйте IE10 + или другие браузеры",success:"Загрузка выполнена успешно",fail:"Ошибка загрузки",preview:"Предпросмотр",btn:{off:"Отменить",close:"Закрыть",back:"Назад",save:"Сохранить"},error:{onlyImg:"Только изображения",outOfSize:"Изображение превышает предельный размер: ",lowestPx:"Минимальный размер изображения: "}},"pt-br":{hint:"Clique ou arraste o arquivo aqui para carregar",loading:"Carregando…",noSupported:"Browser não suportado, use o IE10+ ou outro browser",success:"Sucesso ao carregar imagem",fail:"Falha ao carregar imagem",preview:"Pré-visualizar",btn:{off:"Cancelar",close:"Fechar",back:"Voltar",save:"Salvar"},error:{onlyImg:"Apenas imagens",outOfSize:"A imagem excede o limite de tamanho: ",lowestPx:"O tamanho da imagem é muito pequeno. Tamanho mínimo: "}},fr:{hint:"Cliquez ou glissez le fichier ici.",loading:"Téléchargement…",noSupported:"Votre navigateur n'est pas supporté. Utilisez IE10 + ou un autre navigateur s'il vous plaît.",success:"Téléchargement réussit",fail:"Téléchargement echoué",preview:"Aperçu",btn:{off:"Annuler",close:"Fermer",back:"Retour",save:"Enregistrer"},error:{onlyImg:"Image uniquement",outOfSize:"L'image sélectionnée dépasse la taille maximum: ",lowestPx:"L'image sélectionnée est trop petite. Dimensions attendues: "}},nl:{hint:"Klik hier of sleep een afbeelding in dit vlak",loading:"Uploaden…",noSupported:"Je browser wordt helaas niet ondersteund. Gebruik IE10+ of een andere browser.",success:"Upload succesvol",fail:"Upload mislukt",preview:"Voorbeeld",btn:{off:"Annuleren",close:"Sluiten",back:"Terug",save:"Opslaan"},error:{onlyImg:"Alleen afbeeldingen",outOfSize:"De afbeelding is groter dan: ",lowestPx:"De afbeelding is te klein! Minimale afmetingen: "}},tr:{hint:"Tıkla veya yüklemek istediğini buraya sürükle",loading:"Yükleniyor…",noSupported:"Tarayıcı desteklenmiyor, lütfen IE10+ veya farklı tarayıcı kullanın",success:"Yükleme başarılı",fail:"Yüklemede hata oluştu",preview:"Önizle",btn:{off:"İptal",close:"Kapat",back:"Geri",save:"Kaydet"},error:{onlyImg:"Sadece resim",outOfSize:"Resim yükleme limitini aşıyor: ",lowestPx:"Resmin boyutu çok küçük. En az olması gereken: "}},"es-MX":{hint:"Selecciona o arrastra una imagen",loading:"Subiendo...",noSupported:"Tu navegador no es soportado, porfavor usa IE10+ u otros navegadores mas recientes",success:"Subido exitosamente",fail:"Sucedió un error",preview:"Vista previa",btn:{off:"Cancelar",close:"Cerrar",back:"Atras",save:"Guardar"},error:{onlyImg:"Unicamente imagenes",outOfSize:"La imagen excede el tamaño maximo:",lowestPx:"La imagen es demasiado pequeño. Se espera por lo menos:"}},de:{hint:"Klick hier oder zieh eine Datei hier rein zum Hochladen",loading:"Hochladen…",noSupported:"Browser wird nicht unterstützt, bitte verwende IE10+ oder andere Browser",success:"Upload erfolgreich",fail:"Upload fehlgeschlagen",preview:"Vorschau",btn:{off:"Abbrechen",close:"Schließen",back:"Zurück",save:"Speichern"},error:{onlyImg:"Nur Bilder",outOfSize:"Das Bild ist zu groß: ",lowestPx:"Das Bild ist zu klein. Mindestens: "}},ja:{hint:"クリック・ドラッグしてファイルをアップロード",loading:"アップロード中...",noSupported:"このブラウザは対応されていません。IE10+かその他の主要ブラウザをお使いください。",success:"アップロード成功",fail:"アップロード失敗",preview:"プレビュー",btn:{off:"キャンセル",close:"閉じる",back:"戻る",save:"保存"},error:{onlyImg:"画像のみ",outOfSize:"画像サイズが上限を超えています。上限: ",lowestPx:"画像が小さすぎます。最小サイズ: "}}},u={jpg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",psd:"image/photoshop"},l=(i("47e7"),i("9a33"),function(e,t){e=e.split(",")[1],e=window.atob(e);for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return new Blob([i],{type:t})}),h=function(e,t){var i=Object.assign({ele:e.target,type:"hit",bgc:"rgba(0, 0, 0, 0.15)"},t),n=i.ele;if(n){var r=n.getBoundingClientRect(),o=n.querySelector(".e-ripple");switch(o?o.className="e-ripple":(o=document.createElement("span"),o.className="e-ripple",o.style.height=o.style.width=Math.max(r.width,r.height)+"px",n.appendChild(o)),i.type){case"center":o.style.top=r.height/2-o.offsetHeight/2+"px",o.style.left=r.width/2-o.offsetWidth/2+"px";break;default:o.style.top=e.pageY-r.top-o.offsetHeight/2-document.body.scrollTop+"px",o.style.left=e.pageX-r.left-o.offsetWidth/2-document.body.scrollLeft+"px"}return o.style.backgroundColor=i.bgc,o.className="e-ripple z-active",!1}},f={props:{field:{type:String,default:"avatar"},ki:{default:0},value:{default:!0},url:{type:String,default:""},params:{type:Object,default:null},headers:{type:Object,default:null},width:{type:Number,default:200},height:{type:Number,default:200},noRotate:{type:Boolean,default:!1},noCircle:{type:Boolean,default:!1},noSquare:{type:Boolean,default:!1},maxSize:{type:Number,default:20480},langType:{type:String,default:"zh"},langExt:{type:Object,default:null},imgFormat:{type:String,default:"png"},withCredentials:{type:Boolean,default:!1}},data:function(){var e=this,t=e.imgFormat,i=e.langType,n=e.langExt,r=e.width,o=e.height,a=!0,s=["jpg","png"],l=-1===s.indexOf(t)?"png":t,h=c[i]?c[i]:c["en"],f=u[l];return e.imgFormat=l,n&&Object.assign(h,n),"function"!==typeof FormData&&(a=!1),{fullscreenLoading:!1,files:null,mime:f,lang:h,isSupported:a,isSupportTouch:document.hasOwnProperty("ontouchstart"),step:1,loading:0,progress:0,hasError:!1,errorMsg:"",ratio:r/o,sourceImg:null,sourceImgUrl:"",createImgUrl:"",sourceImgMouseDown:{on:!1,mX:0,mY:0,x:0,y:0},previewContainer:{width:100,height:100},sourceImgContainer:{width:240,height:184},scale:{zoomFpsDown:!1,zoomFpsOn:!1,zoomAddOn:!1,zoomSubOn:!1,range:1,rotateLeft:!1,rotateRight:!1,degree:0,x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,naturalWidth:0,naturalHeight:0},img_list:[],fps:25,isGif:!1}},computed:{runTime:function(){return 1e3/this.fps},sourceImgStyle:function(){var e=this.scale,t=this.sourceImgMasking,i=e.y+t.y+"px",n=e.x+t.x+"px";return{top:i,left:n,width:e.width+"px",height:e.height+"px",transform:"rotate("+e.degree+"deg)","-ms-transform":"rotate("+e.degree+"deg)","-moz-transform":"rotate("+e.degree+"deg)","-webkit-transform":"rotate("+e.degree+"deg)","-o-transform":"rotate("+e.degree+"deg)"}},sourceImgMasking:function(){var e=this.width,t=this.height,i=this.ratio,n=this.sourceImgContainer,r=n,o=r.width/r.height,a=0,s=0,c=r.width,u=r.height,l=1;return i<o&&(l=r.height/t,c=r.height*i,a=(r.width-c)/2),i>o&&(l=r.width/e,u=r.width/i,s=(r.height-u)/2),{scale:l,x:a,y:s,width:c,height:u}},sourceImgShadeStyle:function(){var e=this.sourceImgMasking,t=this.sourceImgContainer,i=t,n=e,r=n.width==i.width?n.width:(i.width-n.width)/2,o=n.height==i.height?n.height:(i.height-n.height)/2;return{width:r+"px",height:o+"px"}},previewStyle:function(){this.width,this.height;var e=this.ratio,t=this.previewContainer,i=t,n=i.width,r=i.height,o=n/r;return e<o&&(n=i.height*e),e>o&&(r=i.width/e),{width:n+"px",height:r+"px"}}},watch:{value:function(e){e&&1!=this.loading&&this.reset()}},created:function(){document.addEventListener("keyup",this.closeHandler)},destroyed:function(){document.removeEventListener("keyup",this.closeHandler)},methods:{ripple:function(e){h(e)},off:function(){var e=this;setTimeout((function(){e.$emit("input",!1),e.$emit("close1"),3==e.step&&2==e.loading&&e.setStep(1)}),200)},setStep:function(e){var t=this;setTimeout((function(){t.step=e}),200)},preventDefault:function(e){return e.preventDefault(),!1},handleClick:function(e){1!==this.loading&&e.target!==this.$refs.fileinput&&(e.preventDefault(),document.activeElement!==this.$refs&&this.$refs.fileinput.click())},handleChange:function(e){if(this.fullscreenLoading=!0,e.preventDefault(),1!==this.loading){var t=e.target.files||e.dataTransfer.files;this.files=t,this.reset(),this.checkFile(t[0])&&("image/gif"===t[0].type?(this.isGif=!0,this.pre_load_gif(t[0])):this.setSourceImg(t[0]))}},convertCanvasToImage:function(e){return e.toDataURL("image/png",1)},pre_load_gif:function(e){var t=this,i=document.createElement("img");i.setAttribute("rel:animated_src",URL.createObjectURL(e)),i.setAttribute("rel:auto_play","0"),document.getElementById("canvas_use").appendChild(i);var n=new SuperGif({gif:i});n.load((function(){for(var i=[],r=1;r<=n.get_length();r++){n.move_to(r);var o=t.convertCanvasToImage(n.get_canvas(),e.name.replace(".gif","")+"-".concat(r));i.push(o)}t.img_list=i,t.setStep(2);var s=0;setTimeout((function(){t.sourceImgUrl=t.img_list[s],t.startCrop();var e=function e(){setTimeout(Object(a["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,new Promise((function(e){s=s<t.img_list.length-1?s+1:0,t.sourceImgUrl=t.img_list[s],t.sourceImg.src=t.img_list[s],e()}));case 2:return i.next=4,t.createImg().then((function(){e()}));case 4:case"end":return i.stop()}}),i)}))),t.runTime)};e()}),500)}))},checkFile:function(e){var t=this,i=t.lang,n=t.maxSize;return-1===e.type.indexOf("image")?(t.hasError=!0,t.errorMsg=i.error.onlyImg,!1):!(e.size/1024>n)||(t.hasError=!0,t.errorMsg=i.error.outOfSize+n+"kb",!1)},reset:function(){var e=this;e.loading=0,e.hasError=!1,e.errorMsg="",e.progress=0},setSourceImg:function(e){var t=this,i=new FileReader;i.onload=function(e){t.sourceImgUrl=i.result,t.startCrop()},i.readAsDataURL(e)},startCrop:function(){var e=this,t=e.width,i=e.height,n=e.ratio,r=e.scale,o=e.sourceImgUrl,a=e.sourceImgMasking,s=e.lang,c=a,u=new Image;u.src=o,u.onload=function(){var o=u.naturalWidth,a=u.naturalHeight,l=o/a,h=c.width,f=c.height,d=0,g=0;if(o<t||a<i)return e.hasError=!0,e.errorMsg=s.error.lowestPx+t+"*"+i,e.fullscreenLoading=!1,e.setStep(1),!1;n>l&&(f=h/l,g=(c.height-f)/2),n<l&&(h=f*l,d=(c.width-h)/2),r.range=0,r.x=d,r.y=g,r.width=h,r.height=f,r.degree=0,r.minWidth=h,r.minHeight=f,r.maxWidth=o*c.scale,r.maxHeight=a*c.scale,r.naturalWidth=o,r.naturalHeight=a,e.sourceImg=u,e.createImg(),e.fullscreenLoading=!1,e.setStep(2),u.onload=function(){}}},imgStartMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var t=e.targetTouches?e.targetTouches[0]:e,i=this.sourceImgMouseDown,n=this.scale,r=i;r.mX=t.screenX,r.mY=t.screenY,r.x=n.x,r.y=n.y,r.on=!0},imgMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var t=e.targetTouches?e.targetTouches[0]:e,i=this.sourceImgMouseDown,n=i.on,r=i.mX,o=i.mY,a=i.x,s=i.y,c=this.scale,u=this.sourceImgMasking,l=u,h=t.screenX,f=t.screenY,d=h-r,g=f-o,p=a+d,m=s+g;n&&(p>0&&(p=0),m>0&&(m=0),p<l.width-c.width&&(p=l.width-c.width),m<l.height-c.height&&(m=l.height-c.height),c.x=p,c.y=m)},startRotateRight:function(e){var t=this,i=t.scale;function n(){if(i.rotateRight){var e=++i.degree;t.createImg(e),setTimeout((function(){n()}),60)}}i.rotateRight=!0,n()},startRotateLeft:function(e){var t=this,i=t.scale;function n(){if(i.rotateLeft){var e=--i.degree;t.createImg(e),setTimeout((function(){n()}),60)}}i.rotateLeft=!0,n()},endRotate:function(){var e=this.scale;e.rotateLeft=!1,e.rotateRight=!1},startZoomAdd:function(e){var t=this,i=t.scale;function n(){if(i.zoomAddOn){var e=i.range>=100?100:++i.range;t.zoomImg(e),setTimeout((function(){n()}),60)}}i.zoomAddOn=!0,n()},endZoomAdd:function(e){this.scale.zoomAddOn=!1},startZoomSub:function(e){var t=this,i=t.scale;function n(){if(i.zoomSubOn){var e=i.range<=0?0:--i.range;t.zoomImg(e),setTimeout((function(){n()}),60)}}i.zoomSubOn=!0,n()},endZoomSub:function(e){var t=this.scale;t.zoomSubOn=!1},zoomChange:function(e){this.zoomImg(e.target.value)},endFpsSub:function(){var e=this.scale;e.zoomFpsDown=!1},endFpsAdd:function(){var e=this.scale;e.zoomFpsOn=!1},startFpsAdd:function(e){var t=this,i=t.scale;function n(){i.zoomFpsOn&&(t.fps=t.fps>=60?60:++t.fps,setTimeout((function(){n()}),60))}i.zoomFpsOn=!0,n()},startFpsSub:function(e){var t=this,i=t.scale;function n(){i.zoomFpsDown&&(t.fps=t.fps<=1?1:--t.fps,setTimeout((function(){n()}),60))}i.zoomFpsDown=!0,n()},zoomImg:function(e){var t=this,i=this.sourceImgMasking,n=(this.sourceImgMouseDown,this.scale),r=n.maxWidth,o=n.maxHeight,a=n.minWidth,s=n.minHeight,c=n.width,u=n.height,l=n.x,h=n.y,f=(n.range,i),d=f.width,g=f.height,p=a+(r-a)*e/100,m=s+(o-s)*e/100,v=d/2-p/c*(d/2-l),w=g/2-m/u*(g/2-h);v>0&&(v=0),w>0&&(w=0),v<d-p&&(v=d-p),w<g-m&&(w=g-m),n.x=v,n.y=w,n.width=p,n.height=m,n.range=e,setTimeout((function(){n.range==e&&t.createImg()}),300)},createImg:function(e){var t=this;return new Promise((function(i){var n=t,r=n.mime,o=n.sourceImg,a=n.scale,s=a.x,c=a.y,u=a.width,l=a.height,h=a.degree,f=n.sourceImgMasking.scale,d=document.getElementById("canvas_use");if(d){var g=d.getContext("2d");e&&(n.sourceImgMouseDown.on=!1),d.width=n.width,d.height=n.height,g.clearRect(0,0,n.width,n.height),g.fillStyle="#fff",g.fillRect(0,0,n.width,n.height),g.translate(.5*n.width,.5*n.height),g.rotate(Math.PI*h/180),g.translate(.5*-n.width,.5*-n.height),g.drawImage(o,s/f,c/f,u/f,l/f),n.createImgUrl=d.toDataURL(r),i()}}))},prepareUpload:function(){var e=this;this.fullscreenLoading=!0;var t=this;if(this.isGif){var i=new GIF({workers:2,quality:10}),n=0,r=function r(){setTimeout((function(){n<e.img_list.length-1?(n++,r(),i.addFrame(document.getElementById("canvas_use"),{delay:4*e.runTime/3,copy:!0})):(i.render(),i.on("finished",(function(e){t.$emit("fileSend",URL.createObjectURL(e),new window.File([e],t.files[0].name,{type:t.files[0].type})),this.fullscreenLoading=!1,t.$emit("close1")})))}),e.runTime)};r()}else{this.url;var o=this.createImgUrl,a=this.field,s=(this.ki,this.mime),c=this.imgFormat;this.$emit("fileSend",this.createImgUrl,l(o,s),a+"."+c),this.fullscreenLoading=!1,this.$emit("close1")}},upload:function(){var e=this,t=this.lang,i=this.imgFormat,n=this.mime,r=this.url,a=this.params,c=(this.headers,this.field),u=this.ki,h=this.createImgUrl,f=(this.withCredentials,new FormData);f.append(c,l(h,n),c+"."+i),"object"===Object(o["a"])(a)&&a&&Object.keys(a).forEach((function(e){f.append(e,a[e])}));e.reset(),e.loading=1,e.setStep(3),Object(s["a"])({url:r,method:"post",data:f}).then((function(t){e.loading=2,e.$emit("crop-upload-success",t.data)})).catch((function(i){e.value&&(e.loading=3,e.hasError=!0,e.errorMsg=t.fail,e.$emit("crop-upload-fail",i,c,u))}))},closeHandler:function(e){!this.value||"Escape"!=e.key&&27!=e.keyCode||this.off()}}},d=f,g=(i("a24f"),i("5511")),p=Object(g["a"])(d,n,r,!1,null,"7381903c",null);t["default"]=p.exports},a24f:function(e,t,i){"use strict";var n=i("f7a3"),r=i.n(n);r.a},ac4b:function(e,t,i){"use strict";var n=i("e7ad"),r=i("149f"),o=i("550e"),a=i("38cd2"),s=i("86d4"),c=i("ef91"),u=i("238a"),l=i("a73b"),h=i("ee21"),f=i("eafa"),d=i("fb00"),g=i("2ea2").f,p=i("064e").f,m=i("b88d"),v=i("399f"),w="ArrayBuffer",y="DataView",b="prototype",S="Wrong length!",I="Wrong index!",_=n[w],x=n[y],k=n.Math,C=n.RangeError,z=n.Infinity,E=_,A=k.abs,O=k.pow,T=k.floor,F=k.log,U=k.LN2,D="buffer",R="byteLength",L="byteOffset",M=r?"_b":D,P=r?"_l":R,N=r?"_o":L;function B(e,t,i){var n,r,o,a=new Array(i),s=8*i-t-1,c=(1<<s)-1,u=c>>1,l=23===t?O(2,-24)-O(2,-77):0,h=0,f=e<0||0===e&&1/e<0?1:0;for(e=A(e),e!=e||e===z?(r=e!=e?1:0,n=c):(n=T(F(e)/U),e*(o=O(2,-n))<1&&(n--,o*=2),e+=n+u>=1?l/o:l*O(2,1-u),e*o>=2&&(n++,o/=2),n+u>=c?(r=0,n=c):n+u>=1?(r=(e*o-1)*O(2,t),n+=u):(r=e*O(2,u-1)*O(2,t),n=0));t>=8;a[h++]=255&r,r/=256,t-=8);for(n=n<<t|r,s+=t;s>0;a[h++]=255&n,n/=256,s-=8);return a[--h]|=128*f,a}function W(e,t,i){var n,r=8*i-t-1,o=(1<<r)-1,a=o>>1,s=r-7,c=i-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;n=256*n+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===o)return n?NaN:u?-z:z;n+=O(2,t),l-=a}return(u?-1:1)*n*O(2,l-t)}function j(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function H(e){return[255&e]}function V(e){return[255&e,e>>8&255]}function Y(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function $(e){return B(e,52,8)}function q(e){return B(e,23,4)}function Z(e,t,i){p(e[b],t,{get:function(){return this[i]}})}function G(e,t,i,n){var r=+i,o=d(r);if(o+t>e[P])throw C(I);var a=e[M]._b,s=o+e[N],c=a.slice(s,s+t);return n?c:c.reverse()}function X(e,t,i,n,r,o){var a=+i,s=d(a);if(s+t>e[P])throw C(I);for(var c=e[M]._b,u=s+e[N],l=n(+r),h=0;h<t;h++)c[u+h]=l[o?h:t-h-1]}if(a.ABV){if(!u((function(){_(1)}))||!u((function(){new _(-1)}))||u((function(){return new _,new _(1.5),new _(NaN),_.name!=w}))){_=function(e){return l(this,_),new E(d(e))};for(var K,J=_[b]=E[b],Q=g(E),ee=0;Q.length>ee;)(K=Q[ee++])in _||s(_,K,E[K]);o||(J.constructor=_)}var te=new x(new _(2)),ie=x[b].setInt8;te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||c(x[b],{setInt8:function(e,t){ie.call(this,e,t<<24>>24)},setUint8:function(e,t){ie.call(this,e,t<<24>>24)}},!0)}else _=function(e){l(this,_,w);var t=d(e);this._b=m.call(new Array(t),0),this[P]=t},x=function(e,t,i){l(this,x,y),l(e,_,y);var n=e[P],r=h(t);if(r<0||r>n)throw C("Wrong offset!");if(i=void 0===i?n-r:f(i),r+i>n)throw C(S);this[M]=e,this[N]=r,this[P]=i},r&&(Z(_,R,"_l"),Z(x,D,"_b"),Z(x,R,"_l"),Z(x,L,"_o")),c(x[b],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return j(G(this,4,e,arguments[1]))},getUint32:function(e){return j(G(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return W(G(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return W(G(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){X(this,1,e,H,t)},setUint8:function(e,t){X(this,1,e,H,t)},setInt16:function(e,t){X(this,2,e,V,t,arguments[2])},setUint16:function(e,t){X(this,2,e,V,t,arguments[2])},setInt32:function(e,t){X(this,4,e,Y,t,arguments[2])},setUint32:function(e,t){X(this,4,e,Y,t,arguments[2])},setFloat32:function(e,t){X(this,4,e,q,t,arguments[2])},setFloat64:function(e,t){X(this,8,e,$,t,arguments[2])}});v(_,w),v(x,y),s(x[b],a.VIEW,!0),t[w]=_,t[y]=x},ce7e:function(e,t,i){"use strict";var n=i("008a"),r=i("f58a"),o=i("eafa");e.exports=[].copyWithin||function(e,t){var i=n(this),a=o(i.length),s=r(e,a),c=r(t,a),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?a:r(u,a))-c,a-s),h=1;c<s&&s<c+l&&(h=-1,c+=l-1,s+=l-1);while(l-- >0)c in i?i[s]=i[c]:delete i[s],s+=h,c+=h;return i}},ddc5:function(e,t,i){"use strict";if(i("149f")){var n=i("550e"),r=i("e7ad"),o=i("238a"),a=i("e46b"),s=i("38cd2"),c=i("ac4b"),u=i("4ce5"),l=i("a73b"),h=i("cc33"),f=i("86d4"),d=i("ef91"),g=i("ee21"),p=i("eafa"),m=i("fb00"),v=i("f58a"),w=i("94b3"),y=i("e042"),b=i("7e23"),S=i("fb68"),I=i("008a"),_=i("2285"),x=i("e005"),k=i("58cf"),C=i("2ea2").f,z=i("f878"),E=i("ec45"),A=i("cb3d"),O=i("013f"),T=i("b3a6"),F=i("f63e"),U=i("e44b"),D=i("da6d"),R=i("d0c5"),L=i("1157"),M=i("b88d"),P=i("ce7e"),N=i("064e"),B=i("dcb7"),W=N.f,j=B.f,H=r.RangeError,V=r.TypeError,Y=r.Uint8Array,$="ArrayBuffer",q="Shared"+$,Z="BYTES_PER_ELEMENT",G="prototype",X=Array[G],K=c.ArrayBuffer,J=c.DataView,Q=O(0),ee=O(2),te=O(3),ie=O(4),ne=O(5),re=O(6),oe=T(!0),ae=T(!1),se=U.values,ce=U.keys,ue=U.entries,le=X.lastIndexOf,he=X.reduce,fe=X.reduceRight,de=X.join,ge=X.sort,pe=X.slice,me=X.toString,ve=X.toLocaleString,we=A("iterator"),ye=A("toStringTag"),be=E("typed_constructor"),Se=E("def_constructor"),Ie=s.CONSTR,_e=s.TYPED,xe=s.VIEW,ke="Wrong length!",Ce=O(1,(function(e,t){return Te(F(e,e[Se]),t)})),ze=o((function(){return 1===new Y(new Uint16Array([1]).buffer)[0]})),Ee=!!Y&&!!Y[G].set&&o((function(){new Y(1).set({})})),Ae=function(e,t){var i=g(e);if(i<0||i%t)throw H("Wrong offset!");return i},Oe=function(e){if(S(e)&&_e in e)return e;throw V(e+" is not a typed array!")},Te=function(e,t){if(!(S(e)&&be in e))throw V("It is not a typed array constructor!");return new e(t)},Fe=function(e,t){return Ue(F(e,e[Se]),t)},Ue=function(e,t){var i=0,n=t.length,r=Te(e,n);while(n>i)r[i]=t[i++];return r},De=function(e,t,i){W(e,t,{get:function(){return this._d[i]}})},Re=function(e){var t,i,n,r,o,a,s=I(e),c=arguments.length,l=c>1?arguments[1]:void 0,h=void 0!==l,f=z(s);if(void 0!=f&&!_(f)){for(a=f.call(s),n=[],t=0;!(o=a.next()).done;t++)n.push(o.value);s=n}for(h&&c>2&&(l=u(l,arguments[2],2)),t=0,i=p(s.length),r=Te(this,i);i>t;t++)r[t]=h?l(s[t],t):s[t];return r},Le=function(){var e=0,t=arguments.length,i=Te(this,t);while(t>e)i[e]=arguments[e++];return i},Me=!!Y&&o((function(){ve.call(new Y(1))})),Pe=function(){return ve.apply(Me?pe.call(Oe(this)):Oe(this),arguments)},Ne={copyWithin:function(e,t){return P.call(Oe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ie(Oe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return M.apply(Oe(this),arguments)},filter:function(e){return Fe(this,ee(Oe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ne(Oe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return re(Oe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(Oe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(Oe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Oe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return de.apply(Oe(this),arguments)},lastIndexOf:function(e){return le.apply(Oe(this),arguments)},map:function(e){return Ce(Oe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return he.apply(Oe(this),arguments)},reduceRight:function(e){return fe.apply(Oe(this),arguments)},reverse:function(){var e,t=this,i=Oe(t).length,n=Math.floor(i/2),r=0;while(r<n)e=t[r],t[r++]=t[--i],t[i]=e;return t},some:function(e){return te(Oe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ge.call(Oe(this),e)},subarray:function(e,t){var i=Oe(this),n=i.length,r=v(e,n);return new(F(i,i[Se]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,p((void 0===t?n:v(t,n))-r))}},Be=function(e,t){return Fe(this,pe.call(Oe(this),e,t))},We=function(e){Oe(this);var t=Ae(arguments[1],1),i=this.length,n=I(e),r=p(n.length),o=0;if(r+t>i)throw H(ke);while(o<r)this[t+o]=n[o++]},je={entries:function(){return ue.call(Oe(this))},keys:function(){return ce.call(Oe(this))},values:function(){return se.call(Oe(this))}},He=function(e,t){return S(e)&&e[_e]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ve=function(e,t){return He(e,t=w(t,!0))?h(2,e[t]):j(e,t)},Ye=function(e,t,i){return!(He(e,t=w(t,!0))&&S(i)&&y(i,"value"))||y(i,"get")||y(i,"set")||i.configurable||y(i,"writable")&&!i.writable||y(i,"enumerable")&&!i.enumerable?W(e,t,i):(e[t]=i.value,e)};Ie||(B.f=Ve,N.f=Ye),a(a.S+a.F*!Ie,"Object",{getOwnPropertyDescriptor:Ve,defineProperty:Ye}),o((function(){me.call({})}))&&(me=ve=function(){return de.call(this)});var $e=d({},Ne);d($e,je),f($e,we,je.values),d($e,{slice:Be,set:We,constructor:function(){},toString:me,toLocaleString:Pe}),De($e,"buffer","b"),De($e,"byteOffset","o"),De($e,"byteLength","l"),De($e,"length","e"),W($e,ye,{get:function(){return this[_e]}}),e.exports=function(e,t,i,c){c=!!c;var u=e+(c?"Clamped":"")+"Array",h="get"+e,d="set"+e,g=r[u],v=g||{},w=g&&k(g),y=!g||!s.ABV,I={},_=g&&g[G],z=function(e,i){var n=e._d;return n.v[h](i*t+n.o,ze)},E=function(e,i,n){var r=e._d;c&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[d](i*t+r.o,n,ze)},A=function(e,t){W(e,t,{get:function(){return z(this,t)},set:function(e){return E(this,t,e)},enumerable:!0})};y?(g=i((function(e,i,n,r){l(e,g,u,"_d");var o,a,s,c,h=0,d=0;if(S(i)){if(!(i instanceof K||(c=b(i))==$||c==q))return _e in i?Ue(g,i):Re.call(g,i);o=i,d=Ae(n,t);var v=i.byteLength;if(void 0===r){if(v%t)throw H(ke);if(a=v-d,a<0)throw H(ke)}else if(a=p(r)*t,a+d>v)throw H(ke);s=a/t}else s=m(i),a=s*t,o=new K(a);f(e,"_d",{b:o,o:d,l:a,e:s,v:new J(o)});while(h<s)A(e,h++)})),_=g[G]=x($e),f(_,"constructor",g)):o((function(){g(1)}))&&o((function(){new g(-1)}))&&R((function(e){new g,new g(null),new g(1.5),new g(e)}),!0)||(g=i((function(e,i,n,r){var o;return l(e,g,u),S(i)?i instanceof K||(o=b(i))==$||o==q?void 0!==r?new v(i,Ae(n,t),r):void 0!==n?new v(i,Ae(n,t)):new v(i):_e in i?Ue(g,i):Re.call(g,i):new v(m(i))})),Q(w!==Function.prototype?C(v).concat(C(w)):C(v),(function(e){e in g||f(g,e,v[e])})),g[G]=_,n||(_.constructor=g));var O=_[we],T=!!O&&("values"==O.name||void 0==O.name),F=je.values;f(g,be,!0),f(_,_e,u),f(_,xe,!0),f(_,Se,g),(c?new g(1)[ye]==u:ye in _)||W(_,ye,{get:function(){return u}}),I[u]=g,a(a.G+a.W+a.F*(g!=v),I),a(a.S,u,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){v.of.call(g,1)})),u,{from:Re,of:Le}),Z in _||f(_,Z,t),a(a.P,u,Ne),L(u),a(a.P+a.F*Ee,u,{set:We}),a(a.P+a.F*!T,u,je),n||_.toString==me||(_.toString=me),a(a.P+a.F*o((function(){new g(1).slice()})),u,{slice:Be}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()}))||!o((function(){_.toLocaleString.call([1,2])}))),u,{toLocaleString:Pe}),D[u]=T?O:F,n||T||f(_,we,F)}}else e.exports=function(){}},f7a3:function(e,t,i){},fb00:function(e,t,i){var n=i("ee21"),r=i("eafa");e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=r(t);if(t!==i)throw RangeError("Wrong length!");return i}}}]);